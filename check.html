<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒ•ã‚©ãƒ¼ãƒ ãƒã‚§ãƒƒã‚¯</title>
  <link rel="stylesheet" href="common.css">
  <link rel="stylesheet" href="check.css">
  <link rel="stylesheet" href="tabbar.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<div class="container">

  <header class="header">
    <h1 id="exerciseTitle">ãƒ•ã‚©ãƒ¼ãƒ ãƒã‚§ãƒƒã‚¯</h1>
  </header>

  <main>

    <!-- YouTubeå‹•ç”»ï¼ˆã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºã‹ã‚‰æ¸¡ã•ã‚ŒãŸç¨®ç›®ã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆï¼‰ -->
    <div class="video-wrapper">
      <iframe id="exerciseVideo" src="" frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>

    <!-- â–¼â–¼â–¼ æ–°ã—ã„æ’®å½±ãƒ•ãƒ­ãƒ¼ â–¼â–¼â–¼ -->

    <!-- â‘  ã‚«ãƒ¡ãƒ©èµ·å‹•ã‚¨ãƒªã‚¢ -->
    <div id="camera-area">
      <video id="camera" autoplay playsinline></video>
      <button id="start-record" class="primary-btn">æ’®å½±é–‹å§‹</button>
    </div>

    <!-- â‘¡ éŒ²ç”»ä¸­ã‚¨ãƒªã‚¢ -->
    <div id="recording-area" style="display:none;">
      <video id="camera-recording" autoplay playsinline></video>
      <button id="stop-record" class="secondary-btn">åœæ­¢</button>
    </div>

    <!-- â‘¢ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ -->
    <div id="preview-area" style="display:none;">
      <video id="preview" controls></video>

      <button id="retry" class="secondary-btn">ã‚‚ã†ä¸€åº¦æ’®å½±ã™ã‚‹</button>
      <button id="analyze" class="primary-btn">è§£æã‚’å§‹ã‚ã‚‹</button>
    </div>

    <!-- â–²â–²â–² æ–°ã—ã„æ’®å½±ãƒ•ãƒ­ãƒ¼ â–²â–²â–² -->

  </main>
</div>

<!-- â–¼â–¼â–¼ çµ±ä¸€ã•ã‚ŒãŸä¸‹ã‚¿ãƒ– â–¼â–¼â–¼ -->
<div class="tabbar">

  <a href="index.html" class="tab-item">
    <span class="emoji">ğŸ </span>
    <span>ãƒ›ãƒ¼ãƒ </span>
  </a>

  <a href="exercises.html" class="tab-item">
    <span class="emoji">ğŸ‹ï¸</span>
    <span>ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º</span>
  </a>

  <a href="check.html" class="tab-item active">
    <span class="emoji">ğŸ§</span>
    <span>ãƒ•ã‚©ãƒ¼ãƒ </span>
  </a>

  <a href="progress.html" class="tab-item">
    <span class="emoji">ğŸ“ˆ</span>
    <span>é€²æ—</span>
  </a>

  <a href="guide.html" class="tab-item">
    <span class="emoji">ğŸ“˜</span>
    <span>ã‚¬ã‚¤ãƒ‰</span>
  </a>

</div>
<!-- â–²â–²â–² çµ±ä¸€ã•ã‚ŒãŸä¸‹ã‚¿ãƒ– â–²â–²â–² -->

<script src="check.js"></script>

<script>
/* ------------------------------
   URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ç¨®ç›®ã‚’å–å¾—
------------------------------ */
const params = new URLSearchParams(location.search);
const exercise = params.get("exercise") || "hamstring";

/* ------------------------------
   ç¨®ç›®ãƒ‡ãƒ¼ã‚¿ï¼ˆYouTube URLï¼‰
------------------------------ */
const exerciseData = {
  hamstring: { title: "ãƒãƒ ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ï¼ˆå¤§è…¿éƒ¨å¾Œé¢ï¼‰", url: "ihchQBuigY0" },
  quad_stretch: { title: "å¤§è…¿å››é ­ç­‹ï¼ˆå¤§è…¿éƒ¨å‰é¢ï¼‰", url: "lVpF9TiepLg" },
  iliopsoas: { title: "è…¸è…°ç­‹ï¼ˆè‚¡é–¢ç¯€å‰é¢ï¼‰", url: "XIA80pBZ3ws" },
  adductor: { title: "å†…è»¢ç­‹ï¼ˆå¤§è…¿éƒ¨å†…å´ï¼‰", url: "racb4M_hycM" },
  calf: { title: "ä¸‹è…¿ä¸‰é ­ç­‹ï¼ˆãµãã‚‰ã¯ãï¼‰", url: "Wbi5St1J9Kk" },
  ankle_pump: { title: "è¶³é¦–ã®ä¸Šä¸‹ï¼ˆãƒãƒ³ãƒ—ï¼‰é‹å‹•ï¼‰", url: "-inqX6tmDm8" },
  glute_set: { title: "å¤§æ®¿ç­‹ï¼ˆåç¸®ã®ã¿ï¼‰", url: "4ckJ67_8IB8" },
  glute_bridge: { title: "å¤§æ®¿ç­‹ï¼ˆãƒ–ãƒªãƒƒã‚¸ï¼‰", url: "9zKZ-YRmU8I" },
  glute_stand: { title: "å¤§æ®¿ç­‹ï¼ˆç«‹ä½ï¼‰", url: "aikGoCaTFFI" },
  quad_setting: { title: "å¤§è…¿å››é ­ç­‹ï¼ˆã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ï¼‰", url: "rweyU-3O3zo" },
  quad_slr: { title: "å¤§è…¿å››é ­ç­‹ï¼ˆSLRï¼‰", url: "fNM6w_RnVRk" },
  gm_back: { title: "ä¸­æ®¿ç­‹ï¼ˆèƒŒè‡¥ä½ï¼‰", url: "UBN5jCP-ErM" },
  gm_stand: { title: "ä¸­æ®¿ç­‹ï¼ˆç«‹ä½ï¼‰", url: "0gKoLDR8HcI" },
  balance_tandem: { title: "ãƒãƒ©ãƒ³ã‚¹ï¼ˆã‚¿ãƒ³ãƒ‡ãƒ ï¼‰", url: "F0OVS9LT1w4" },
  balance_single: { title: "ãƒãƒ©ãƒ³ã‚¹ï¼ˆç‰‡è„šç«‹ä½ï¼‰", url: "HUjoGJtiknc" },
  walking: { title: "ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°", url: "Cs4NOzgkS8s" },
  ergometer: { title: "è‡ªè»¢è»Šã‚¨ãƒ«ã‚´ãƒ¡ãƒ¼ã‚¿", url: "12_J_pr-MUE" },
  water: { title: "æ°´ä¸­é‹å‹•", url: "xqj3dn9mw50" }
};

/* ------------------------------
   YouTubeå‹•ç”»ã‚’ã‚»ãƒƒãƒˆ
------------------------------ */
const info = exerciseData[exercise];
document.getElementById("exerciseTitle").textContent = info.title;
document.getElementById("exerciseVideo").src =
  "https://www.youtube.com/embed/" + info.url;
</script>

</body>
</html>
